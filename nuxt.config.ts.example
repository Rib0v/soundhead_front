// https://nuxt.com/docs/api/configuration/nuxt-config
export default defineNuxtConfig({
    devtools: { enabled: true },

    modules: ["@pinia/nuxt", "nuxt-primevue"],

    primevue: {
        options: { ripple: true },

        components: {
            include: [
                "Dropdown",
                "IconField",
                "InputGroup",
                "InputGroupAddon",
                "InputIcon",
                "InputNumber",
                "InputText",
                "MultiSelect",
                "Textarea",
                "Button",
                "Paginator",
                "TabView",
                "TabPanel",
                "Dialog",
                "Sidebar",
                "Badge",
            ],
        },
        directives: {
            include: ["Ripple"],
        },

        composables: {
            include: [],
        },
    },

    app: {
        pageTransition: { name: "page", mode: "out-in" },

        head: {
            link: [{ rel: "icon", type: "image/x-icon", href: "/favicon.ico" }],
        },
    },

    routeRules: {
        "/": { prerender: true },
        "/catalog": { swr: true },
        // '/product/**': { swr : 60 * 60 * 4 },
    },

    nitro: {
        compressPublicAssets: { gzip: true, brotli: true },
    },

    /**
     * В dev-режиме значения берутся из файла .env
     * (если они там есть)
     */
    runtimeConfig: {
        public: {
            apiBase: "http://localhost",
            apiBaseLocal: "http://localhost",
            apiPort: "80",
            productsPerPage: 24,
            searchThrottleInterval: 500,
        },
    },
});
